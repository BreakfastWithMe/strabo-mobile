<ion-view title="Spots">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
	<ion-nav-buttons side="right">
    <button ng-class="{'button button-icon ion-loop': isOnlineLoggedIn(), 'button button-icon ion-alert-circled': !isOnlineLoggedIn()}"
            ng-click="sync()">
    </button>
    <button class="button button-icon ion-trash-b" ng-click="clearAllSpots()"></button>
    <button class="button button-icon ion-plus" ng-click="newSpot()"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="row responsive-sm">
      <div class="col">
        <ion-list>
          <div ng-repeat="group in groups">
            <ion-item class="item-stable group-title"
                      ng-click="toggleGroup(group)"
                      ng-class="{active: isGroupShown(group)}">
              <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
              &nbsp;
              <b>{{group.name}}</b>
            </ion-item>
            <ion-item class="item-accordion"
                      ng-repeat="item in group.items"
                      ng-show="isGroupShown(group)"
                      href="#/app/spots/{{item.properties.id}}/{{group.tab}}">
              {{item.properties.name}}
            </ion-item>
          </div>
        </ion-list>
      </div>
      <div class="col">
        <div class="item item-divider">
          <b>GROUPS</b>
        </div>
        <ion-list>
          <ion-item class="item-accordion"
                    ng-repeat="spot in spots | filter: {'properties': {'type': 'group'}}"
                    href="#/app/spots/{{spot.properties.id}}/details">
            {{spot.properties.name}}
          </ion-item>
        </ion-list>
      </div>
    </div>
<!--

      <div class="row responsive-sm">
        <div class="col">
          <div class="item item-divider">
            STATIONS
          </div>
          <ion-list>
            <ion-item ng-repeat="spot in spots | filter: { 'properties': {'type': 'point' }}"
                      href="#/app/spots/{{spot.properties.id}}/details">
              {{spot.properties.name}}
            </ion-item>
          </ion-list>
          <div class="item item-divider">
            CONTACTS & TRACES
          </div>
          <ion-list>
            <ion-item ng-repeat="spot in spots | filter: { 'properties': {'type': 'line' }}"
                      href="#/app/spots/{{spot.properties.id}}/details">
              {{spot.properties.name}}
            </ion-item>
          </ion-list>
          <div class="item item-divider">
            ROCK DESCRIPTION ONLY
          </div>
          <ion-list>
            <ion-item ng-repeat="spot in spots | filter: { 'properties': {'type': 'polygon' }}"
                      href="#/app/spots/{{spot.properties.id}}/rockdescription">
              {{spot.properties.name}}
            </ion-item>
          </ion-list>
          <div class="item item-divider">
            3D STRUCTURE
          </div>
          <ion-list>
            <ion-item>
              Not implemented yet
            </ion-item>
          </ion-list>
        </div>
        <div class="col">
          <div class="item item-divider">
            GROUPS
          </div>
          <ion-list>
            <ion-item ng-repeat="spot in spots | filter: {'properties': {'type': 'group'}}"
                      href="#/app/spots/{{spot.properties.id}}/details">
              {{spot.properties.name}}
            </ion-item>
          </ion-list>
        </div>
      </div>-->
    </ion-content>
</ion-view>
