<ion-view title='Offline Maps'>
  <ion-nav-buttons side='left'>
    <button menu-toggle='left' class='button button-icon icon ion-navicon'></button>
  </ion-nav-buttons>
  <ion-nav-buttons side='right'>
    <button ng-click='vm.clearOfflineTile();' class='button button-icon icon ion-trash-b'
            ng-hide='vm.numOfflineTiles === 0'></button>
  </ion-nav-buttons>
  <ion-content class='has-header'>
    <div class='padding' ng-show='vm.numOfflineTiles === 0'>
      There are no saved maps.
    </div>
    <div ng-hide='vm.numOfflineTiles === 0'>
      <ion-list>
        <ion-item class='item-text-wrap item-button-right' ng-repeat='map in vm.maps.maps'>
          <b>{{map.name}}</b><br>
          <small>{{map.tileArray.length}} tiles, {{map.size | normalizeBytes}}, {{map.mapProvider}}<span
            ng-if='map.date'>, Saved: {{ map.date }}</span></small>
          <div class='buttons'>
            <button class='button button-clear button-dark'
                    ng-click='vm.edit(map)'>
              <i class='icon ion-edit'></i>
            </button>
            <button class='button button-clear button-assertive'
                    ng-click='vm.deleteTiles(map)'>
              <i class='icon ion-minus-circled'></i>
            </button>
          </div>
        </ion-item>
      </ion-list>
      <div class='padding'>
        Total Number of Saved Tiles: {{ vm.numOfflineTiles }} <br>
        Total Size of Saved Tiles: {{ vm.offlineTilesSize }} <br>
        <small>Note some tiles may be used in more than one saved map so the total number and total size of saved tiles
          is not simply a sum of the individual map properties. Deleting an individual map will only delete those tiles
          not used in any other map.
        </small>
      </div>
    </div>
  </ion-content>
</ion-view>
